- name: Install development headers
  apt:
    name: python2.7-dev
  when: ansible_python.version.major == 2 and ansible_os_family == "Debian"
  become: yes

- name: Install development headers
  yum:
    name: python-devel
  when: ansible_python.version.major == 2 and ansible_os_family == "RedHat"
  become: yes

- name: Update Pip
  pip:
    name: pip
    state: latest
    virtualenv: "{{ girder_virtualenv }}"

- name: Install Girder and plugin requirements
  pip:
    name: ".[plugins]"
    extra_args: "-e"
    chdir: "{{ girder_path }}"
    virtualenv: "{{ girder_virtualenv }}"
